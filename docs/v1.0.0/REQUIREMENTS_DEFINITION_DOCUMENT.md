# Keep-It v1.0.0 要件定義書

## 1. プロジェクト概要

### 1.1 目的
StudyPlusのような学習管理アプリケーション「Keep-It」を開発し、個人学習者向けの学習記録・管理・モチベーション維持機能を提供する。収益化を前提とした持続可能なサービスの構築を目指す。

### 1.2 ターゲットユーザー
- 高校生・大学受験生
- 資格試験受験者
- 自己学習に取り組む社会人
- 語学学習者

### 1.3 競合分析
- **StudyPlus**: 累計900万人利用、大学受験生の2人に1人が利用する学習管理SNS
- **主要機能**: 学習記録、可視化、SNS機能、教材管理
- **差別化ポイント**: よりシンプルで直感的なUI、効果的な学習継続支援機能

## 2. MVP機能要件（v1.0.0）

### 2.1 優先度A（必須機能）

#### 2.1.1 ユーザー管理機能
- **ユーザー登録**
  - メールアドレス・パスワードによる登録
  - プロフィール設定（ニックネーム、目標、志望校/資格等）
- **認証機能**
  - ログイン・ログアウト
  - パスワードリセット
- **プロフィール管理**
  - 基本情報編集
  - アバター設定

#### 2.1.2 学習記録機能
- **時間記録**
  - 学習開始・終了時刻の記録
  - 手動時間入力
  - 一時停止・再開機能
- **教材記録**
  - 使用教材の登録
  - 教材ごとの学習時間・進捗記録
  - ページ数・問題数の記録

#### 2.1.3 学習データ可視化機能
- **統計ダッシュボード**
  - 日・週・月別学習時間グラフ
  - 教材別学習時間の円グラフ
  - 累計学習時間表示
- **カレンダー表示**
  - 月間カレンダーでの学習状況可視化
  - 日別学習時間の色分け表示

#### 2.1.4 目標設定・管理機能
- **目標設定**
  - 試験日・目標日の設定
  - 日別・週別・月別学習時間目標
  - 教材別進捗目標
- **進捗管理**
  - 目標達成率の表示
  - カウントダウン表示
  - 達成状況のアラート

### 2.2 優先度B（重要機能）

#### 2.2.1 教材管理機能
- **教材データベース**
  - 教材の登録・編集・削除
  - カテゴリ別分類
  - 難易度設定
- **進捗管理**
  - 教材ごとの完了率
  - 章・単元別の進捗記録

#### 2.2.2 通知機能
- **学習リマインダー**
  - 学習時間の通知
  - 目標未達成時のアラート
  - 継続日数の表示・通知

#### 2.2.3 基本SNS機能
- **学習記録共有**
  - 日別学習記録の投稿
  - 達成報告の投稿
- **フォロー機能**
  - 他ユーザーのフォロー
  - タイムライン表示
- **いいね・コメント機能**
  - 投稿へのいいね
  - 簡単なコメント機能

### 2.3 優先度C（将来実装）
- 学習グループ機能
- 詳細な学習分析機能
- 外部アプリ連携
- バーコードスキャン機能

## 3. 非機能要件

### 3.1 パフォーマンス要件
- **レスポンス時間**: API応答時間 500ms以内
- **同時接続数**: 500ユーザーまで対応
- **データロード時間**: 初回ロード3秒以内

### 3.2 セキュリティ要件
- **認証・認可**
  - JWT（JSON Web Token）による認証
  - パスワードのハッシュ化（bcrypt）
- **データ保護**
  - HTTPS通信の強制
  - SQL インジェクション対策
  - XSS（Cross-Site Scripting）対策

### 3.3 可用性要件
- **稼働率**: 99.5%以上
- **バックアップ**: 日次自動バックアップ
- **災害対策**: 異なるリージョンでのデータ複製

### 3.4 拡張性要件
- **ユーザー増加対応**: 10,000ユーザーまでの拡張を想定
- **機能追加対応**: モジュラー設計による機能追加の容易性

## 4. 技術要件

### 4.1 システム構成
- **アーキテクチャ**: マイクロサービス指向
- **デプロイ**: Docker コンテナ化
- **CI/CD**: GitHub Actions

### 4.2 技術スタック

#### 4.2.1 フロントエンド
- **フレームワーク**: React 18.x
- **状態管理**: Redux Toolkit
- **UI ライブラリ**: Material-UI (MUI)
- **ルーティング**: React Router
- **バンドラー**: Vite

#### 4.2.2 バックエンド
- **言語**: Python 3.11
- **フレームワーク**: FastAPI
- **データベース**: PostgreSQL 15.x
- **キャッシュ**: Redis
- **タスクキュー**: Celery

#### 4.2.3 インフラストラクチャ
- **クラウド**: AWS
- **コンテナ**: Docker, Docker Compose
- **データベースホスティング**: AWS RDS
- **ファイルストレージ**: AWS S3
- **CDN**: AWS CloudFront

### 4.3 開発環境
- **バージョン管理**: Git (GitHub)
- **API ドキュメンテーション**: FastAPI 自動生成 + Swagger
- **テスト**: pytest (Backend), Jest + React Testing Library (Frontend)
- **コード品質**: ESLint, Prettier, Black, isort

## 5. データ設計

### 5.1 主要エンティティ

#### 5.1.1 ユーザー (User)
```
- id: Primary Key
- email: Email (Unique)
- password_hash: String
- nickname: String
- created_at: DateTime
- updated_at: DateTime
```

#### 5.1.2 教材 (Material)
```
- id: Primary Key
- user_id: Foreign Key
- title: String
- category: String
- total_pages: Integer
- difficulty_level: Integer (1-5)
- created_at: DateTime
```

#### 5.1.3 学習セッション (StudySession)
```
- id: Primary Key
- user_id: Foreign Key
- material_id: Foreign Key
- start_time: DateTime
- end_time: DateTime
- duration_minutes: Integer
- pages_studied: Integer
- created_at: DateTime
```

#### 5.1.4 目標 (Goal)
```
- id: Primary Key
- user_id: Foreign Key
- title: String
- target_date: Date
- daily_target_minutes: Integer
- status: Enum (active, completed, paused)
- created_at: DateTime
```

## 6. 収益化戦略

### 6.1 フリーミアムモデル
- **無料プラン**
  - 基本的な学習記録機能
  - 簡単な統計表示
  - 最大3つの教材登録
  - 月間50時間までの記録

- **プレミアムプラン** (月額980円)
  - 無制限の教材登録
  - 詳細な学習分析・レポート
  - 学習目標の詳細設定
  - データエクスポート機能
  - 広告非表示

### 6.2 その他収益化
- **教育機関向けプラン**: 学校・塾向けの管理機能付きプラン
- **アフィリエイト**: 学習教材・参考書の紹介
- **広告収入**: 無料ユーザー向けの適切な教育関連広告

### 6.3 KPI・目標指標
- **ユーザー数**: v1.0.0 リリース後6ヶ月で1,000ユーザー
- **有料転換率**: 5%以上
- **月間継続率**: 70%以上
- **収益目標**: リリース後1年で月間収益50万円

## 7. 開発スケジュール

### 7.1 Phase 1: 基盤構築 (4週間)
- **Week 1-2**: インフラ構築、認証システム
- **Week 3-4**: 基本的なフロントエンド構築

### 7.2 Phase 2: 核心機能開発 (6週間)
- **Week 5-6**: 学習記録機能
- **Week 7-8**: データ可視化機能
- **Week 9-10**: 目標設定・管理機能

### 7.3 Phase 3: 付加機能開発 (4週間)
- **Week 11-12**: 教材管理、通知機能
- **Week 13-14**: 基本SNS機能

### 7.4 Phase 4: 品質向上・リリース準備 (2週間)
- **Week 15**: テスト、バグ修正
- **Week 16**: デプロイ、リリース

**総開発期間**: 16週間（約4ヶ月）

## 8. リスク・制約事項

### 8.1 技術的リスク
- **パフォーマンス問題**: 大量データ処理時の性能劣化
- **セキュリティ脆弱性**: 個人情報漏洩のリスク
- **スケーラビリティ**: ユーザー増加時のシステム負荷

### 8.2 ビジネスリスク
- **競合の機能模倣**: StudyPlusや他競合による類似機能の提供
- **ユーザー獲得**: マーケティング予算制限下でのユーザー獲得
- **収益化**: 有料転換率が想定を下回るリスク

### 8.3 制約事項
- **開発リソース**: 個人開発のためのリソース制限
- **予算制限**: インフラ・マーケティング費用の制約
- **法的要件**: 個人情報保護法等の遵守必要性

